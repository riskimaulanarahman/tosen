import{r as h,a as j,b as i,h as P,i as T,w as n,e as t,q as f,v as p,A as b,t as l,F as D,B as C,o as F}from"./app-BKAzIGDl.js";import{A as S}from"./AuthenticatedLayout-CvTf77Xc.js";import{_ as u}from"./Card.vue_vue_type_script_setup_true_lang-B__DTBrn.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-D44kyhuY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"space-y-6"},V={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},B={class:"p-4 space-y-4"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},M={class:"flex items-end gap-2"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},A={class:"p-6"},O={class:"flex items-center"},z={class:"text-3xl font-bold text-text"},U={class:"p-6"},$={class:"flex items-center"},H={class:"text-3xl font-bold text-success"},K={class:"p-6"},L={class:"flex items-center"},q={class:"text-3xl font-bold text-info"},E={class:"p-6 space-y-4"},G={class:"flex flex-col md:flex-row md:items-center md:justify-between"},J={class:"text-sm text-muted"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"bg-surface-2 border border-border rounded-lg p-6 space-y-4"},W={class:"space-y-3"},X={class:"flex justify-between items-center"},Y={class:"font-semibold text-text"},tt={class:"flex justify-between items-center"},st={class:"font-semibold text-text"},et={class:"flex justify-between items-center"},lt={class:"font-semibold text-danger"},ot={class:"border-t border-border pt-3 mt-3"},at={class:"flex justify-between items-center"},it={class:"font-bold text-lg text-success"},dt={class:"bg-surface-2 border border-border rounded-lg p-6 space-y-4"},nt={class:"space-y-3"},rt={class:"flex justify-between items-center"},ut={class:"font-semibold text-text"},mt={class:"flex justify-between items-center"},ct={class:"font-semibold text-text"},xt={class:"flex justify-between items-center"},ft={class:"font-semibold text-text"},gt={__name:"Statistics",props:{statistics:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(e){var y,_,g;const c=e,o=h({outlet_id:((y=c.filters)==null?void 0:y.outlet_id)||"",start_date:((_=c.filters)==null?void 0:_.start_date)||"",end_date:((g=c.filters)==null?void 0:g.end_date)||""}),m=d=>{if(!d)return"-";const s=typeof d=="string"?d.split("T")[0].split(" ")[0]:d,a=new Date(`${s}T00:00:00`);return new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"short",day:"numeric",timeZone:"Asia/Jakarta"}).format(a)},r=d=>d==null?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(Number(d)),x=()=>{C.get(route("payroll.statistics"),o.value,{preserveScroll:!0,preserveState:!0})},k=()=>{o.value={outlet_id:"",start_date:"",end_date:""},x()};return(d,s)=>(F(),j(D,null,[i(P(T),{title:"Statistik Payroll"}),i(S,null,{default:n(()=>[t("div",N,[t("div",V,[s[4]||(s[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}}," Statistik Penggajian "),t("p",{class:"text-muted"}," Ikhtisar performa payroll berdasarkan outlet dan periode ")],-1)),i(v,{onClick:x},{default:n(()=>[...s[3]||(s[3]=[f("Perbarui Data",-1)])]),_:1})]),i(u,null,{default:n(()=>[t("div",B,[s[10]||(s[10]=t("h2",{class:"text-lg font-semibold text-text"},"Filter Data",-1)),t("div",I,[t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm text-muted mb-1"},"ID Outlet",-1)),p(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.outlet_id=a),type:"number",min:"1",class:"w-full px-3 py-2 bg-surface-2 border border-border rounded-lg",placeholder:"Contoh: 1"},null,512),[[b,o.value.outlet_id]])]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm text-muted mb-1"},"Mulai",-1)),p(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.start_date=a),type:"date",class:"w-full px-3 py-2 bg-surface-2 border border-border rounded-lg"},null,512),[[b,o.value.start_date]])]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm text-muted mb-1"},"Selesai",-1)),p(t("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>o.value.end_date=a),type:"date",class:"w-full px-3 py-2 bg-surface-2 border border-border rounded-lg"},null,512),[[b,o.value.end_date]])]),t("div",M,[i(v,{class:"flex-1",onClick:x},{default:n(()=>[...s[8]||(s[8]=[f("Terapkan",-1)])]),_:1}),i(v,{variant:"secondary",class:"flex-1",onClick:k},{default:n(()=>[...s[9]||(s[9]=[f("Reset",-1)])]),_:1})])])])]),_:1}),t("div",R,[i(u,{class:"hover:shadow-lg transition-shadow"},{default:n(()=>[t("div",A,[t("div",O,[s[12]||(s[12]=t("div",{class:"flex-shrink-0 bg-primary-100 rounded-lg p-3 mr-4"},[t("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 016-6h2a6 6 0 016 6v1zm0 0h6v2a2 2 0 002 2h-8a2 2 0 01-2-2v-2h8a2 2 0 012 2V2z"})])],-1)),t("div",null,[s[11]||(s[11]=t("p",{class:"text-sm text-muted"},"Total Karyawan",-1)),t("p",z,l(e.statistics.total_employees||0),1)])])])]),_:1}),i(u,{class:"hover:shadow-lg transition-shadow"},{default:n(()=>[t("div",U,[t("div",$,[s[14]||(s[14]=t("div",{class:"flex-shrink-0 bg-success-100 rounded-lg p-3 mr-4"},[t("svg",{class:"w-6 h-6 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3-1.343-3-3S10.343 2 12 2s3 1.343 3 3 3 3-1.343 3-3-1.657z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 2v6m0 0l-3 3m3-3l3 3m-6 0h6"})])],-1)),t("div",null,[s[13]||(s[13]=t("p",{class:"text-sm text-muted"},"Total Net Pay",-1)),t("p",H,l(r(e.statistics.total_net_pay)),1)])])])]),_:1}),i(u,{class:"hover:shadow-lg transition-shadow"},{default:n(()=>[t("div",K,[t("div",L,[s[16]||(s[16]=t("div",{class:"flex-shrink-0 bg-info-100 rounded-lg p-3 mr-4"},[t("svg",{class:"w-6 h-6 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V9a2 2 0 00-2-2h-1m-6 0l2 2m0 0l2-2m-2 2h6"})])],-1)),t("div",null,[s[15]||(s[15]=t("p",{class:"text-sm text-muted"}," Rata-rata Net Pay ",-1)),t("p",q,l(r(e.statistics.average_net_pay)),1)])])])]),_:1})]),i(u,{class:"hover:shadow-lg transition-shadow"},{default:n(()=>{var a,w;return[t("div",E,[t("div",G,[s[17]||(s[17]=t("h2",{class:"text-xl font-bold text-text"}," Ringkasan Periode ",-1)),t("p",J," Periode: "+l(m((a=e.statistics.payroll_period)==null?void 0:a.start_date))+" s/d "+l(m((w=e.statistics.payroll_period)==null?void 0:w.end_date)),1)]),t("div",Z,[t("div",Q,[s[22]||(s[22]=t("h3",{class:"text-lg font-semibold text-text mb-4"}," Pendapatan ",-1)),t("div",W,[t("div",X,[s[18]||(s[18]=t("span",{class:"text-sm text-muted"},"Total Gross Pay",-1)),t("span",Y,l(r(e.statistics.total_gross_pay)),1)]),t("div",tt,[s[19]||(s[19]=t("span",{class:"text-sm text-muted"},"Total Lembur",-1)),t("span",st,l(r(e.statistics.total_overtime_pay)),1)]),t("div",et,[s[20]||(s[20]=t("span",{class:"text-sm text-muted"},"Total Pajak",-1)),t("span",lt," -"+l(r(e.statistics.total_tax_deduction)),1)]),t("div",ot,[t("div",at,[s[21]||(s[21]=t("span",{class:"text-sm font-medium text-text"},"Total Net Pay",-1)),t("span",it,l(r(e.statistics.total_net_pay)),1)])])])]),t("div",dt,[s[26]||(s[26]=t("h3",{class:"text-lg font-semibold text-text mb-4"}," Statistik ",-1)),t("div",nt,[t("div",rt,[s[23]||(s[23]=t("span",{class:"text-sm text-muted"},"Total Records",-1)),t("span",ut,l(e.statistics.total_records||0),1)]),t("div",mt,[s[24]||(s[24]=t("span",{class:"text-sm text-muted"},"Payroll / Karyawan",-1)),t("span",ct,l(e.statistics.total_employees?(e.statistics.total_records||0)/e.statistics.total_employees:0),1)]),t("div",xt,[s[25]||(s[25]=t("span",{class:"text-sm text-muted"},"Periode",-1)),t("span",ft,l(m(o.value.start_date))+" â†’ "+l(m(o.value.end_date)),1)])])])])])]}),_:1})])]),_:1})],64))}};export{gt as default};

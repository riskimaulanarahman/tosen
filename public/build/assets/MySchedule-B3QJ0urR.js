import{c as A,a as r,b as l,h as b,i as L,w as o,e as t,l as S,q as h,t as a,n as p,o as i,F as _,j as g,d as B,k as T}from"./app-CrbtziG4.js";import{A as I}from"./AuthenticatedLayout-CAMF503l.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-DMPMrx_v.js";import{_ as P}from"./Button.vue_vue_type_script_setup_true_lang-BvtWu8U6.js";import{B as C}from"./Breadcrumb-DJgJR-8p.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"space-y-6"},J={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},M={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},N={class:"p-5 space-y-2"},V={class:"text-3xl font-bold text-text"},$={class:"p-5 space-y-2"},O={class:"text-3xl font-bold text-primary"},E={class:"p-5 space-y-2"},F={class:"text-3xl font-bold text-text"},R={class:"p-6 space-y-4"},q={class:"flex items-center justify-between"},z={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},G={class:"bg-surface-2 rounded-lg p-4 border border-border"},K={class:"text-lg font-semibold text-text"},Q={class:"text-sm text-muted"},U={class:"bg-surface-2 rounded-lg p-4 border border-border"},W={class:"text-lg font-semibold text-text"},X={class:"bg-surface-2 rounded-lg p-4 border border-border"},Y={class:"text-lg font-semibold text-text"},Z={key:1,class:"text-center text-muted py-8"},tt={class:"p-6 space-y-4"},et={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},st={class:"text-xs text-muted"},at={class:"mt-3"},dt={class:"text-sm font-semibold text-text"},nt={class:"text-xs text-muted"},lt={class:"p-6 space-y-4"},it={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-border text-sm"},ot={class:"divide-y divide-border"},ct={key:0},ut={class:"px-4 py-3"},xt={class:"font-semibold text-text"},mt={class:"text-xs text-muted"},ft={class:"px-4 py-3"},pt={class:"px-4 py-3"},yt={class:"px-4 py-3 text-muted"},_t={key:0,class:"flex flex-wrap gap-2"},At={__name:"MySchedule",props:{currentAssignment:{type:Object,default:()=>null},history:{type:Object,default:()=>({data:[],links:[]})},weeklyPreview:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})}},setup(n){const v=n,D=[{name:"Dashboard",href:route("dashboard")},{name:"Jadwal Saya"}],k=A(()=>{var d;return((d=v.history)==null?void 0:d.data)??[]}),w=A(()=>{var d;return((d=v.history)==null?void 0:d.links)??[]}),y=d=>d?new Date(d).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"short",day:"numeric"}):"-",u=d=>d?d.length>5?d.slice(0,5):d:"--:--",j=d=>d&&d.is_active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-600";return(d,e)=>(i(),r(_,null,[l(b(L),{title:"Jadwal Saya"}),l(I,null,{breadcrumb:o(()=>[l(C,{items:D})]),default:o(()=>[t("div",H,[t("div",J,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-text"},"Jadwal Saya"),t("p",{class:"text-muted"}," Lihat shift aktif dan riwayat penugasan Anda ")],-1)),l(b(S),{href:d.route("attendance.index")},{default:o(()=>[l(P,{variant:"secondary"},{default:o(()=>[...e[0]||(e[0]=[h("Buka Halaman Absensi",-1)])]),_:1})]),_:1},8,["href"])]),t("div",M,[l(x,null,{default:o(()=>[t("div",N,[e[2]||(e[2]=t("p",{class:"text-sm text-muted"},"Total Penugasan",-1)),t("p",V,a(n.stats.total_assignments||0),1)])]),_:1}),l(x,null,{default:o(()=>[t("div",$,[e[3]||(e[3]=t("p",{class:"text-sm text-muted"},"Shift Aktif",-1)),t("p",O,a(n.stats.current_shift_name||"Belum ada"),1)])]),_:1}),l(x,null,{default:o(()=>[t("div",E,[e[4]||(e[4]=t("p",{class:"text-sm text-muted"},"Aktif Sejak",-1)),t("p",F,a(n.stats.active_since?new Date(n.stats.active_since).toLocaleDateString("id-ID"):"-"),1)])]),_:1})]),l(x,null,{default:o(()=>{var s,c,m,f;return[t("div",R,[t("div",q,[e[5]||(e[5]=t("div",null,[t("h2",{class:"text-xl font-semibold text-text"}," Shift Saat Ini "),t("p",{class:"text-sm text-muted"}," Informasi penugasan terbaru ")],-1)),t("span",{class:p(["inline-flex px-3 py-1 rounded-full text-xs font-semibold",j(n.currentAssignment)])},a((s=n.currentAssignment)!=null&&s.is_active?"Sedang Aktif":"Tidak Aktif"),3)]),n.currentAssignment?(i(),r("div",z,[t("div",G,[e[6]||(e[6]=t("p",{class:"text-sm text-muted"},"Shift",-1)),t("p",K,a(((c=n.currentAssignment.shift)==null?void 0:c.name)||"-"),1),t("p",Q,a(u((m=n.currentAssignment.shift)==null?void 0:m.start_time))+" - "+a(u((f=n.currentAssignment.shift)==null?void 0:f.end_time)),1)]),t("div",U,[e[7]||(e[7]=t("p",{class:"text-sm text-muted"},"Mulai",-1)),t("p",W,a(n.currentAssignment.start_date?y(n.currentAssignment.start_date):"-"),1)]),t("div",X,[e[8]||(e[8]=t("p",{class:"text-sm text-muted"},"Berakhir",-1)),t("p",Y,a(n.currentAssignment.end_date?y(n.currentAssignment.end_date):"Berjalan"),1)])])):(i(),r("div",Z," Anda belum memiliki penugasan shift aktif. "))])]}),_:1}),l(x,null,{default:o(()=>[t("div",tt,[e[9]||(e[9]=t("h2",{class:"text-xl font-semibold text-text"}," Jadwal 7 Hari ke Depan ",-1)),t("div",et,[(i(!0),r(_,null,g(n.weeklyPreview,(s,c)=>(i(),r("div",{key:c,class:p(["border border-border rounded-lg p-4",{"bg-primary-50 border-primary":s.is_today}])},[t("p",{class:p(["text-sm font-semibold",{"text-primary":s.is_today}])},a(s.day_label),3),t("p",st,a(new Date(s.date).toLocaleDateString("id-ID",{month:"short",day:"numeric"})),1),t("div",at,[t("p",dt,a(s.shift_name||"Tidak dijadwalkan"),1),t("p",nt,a(s.shift_name?`${u(s.start_time)} - ${u(s.end_time)}`:"—"),1)])],2))),128))])])]),_:1}),l(x,null,{default:o(()=>[t("div",lt,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h2",{class:"text-xl font-semibold text-text"}," Riwayat Penugasan "),t("p",{class:"text-sm text-muted"}," Riwayat shift yang pernah Anda jalani ")])],-1)),t("div",it,[t("table",rt,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"text-left text-xs uppercase text-muted"},[t("th",{class:"px-4 py-3"},"Shift"),t("th",{class:"px-4 py-3"},"Periode"),t("th",{class:"px-4 py-3"},"Status"),t("th",{class:"px-4 py-3"},"Catatan")])],-1)),t("tbody",ot,[k.value.length===0?(i(),r("tr",ct,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"px-4 py-6 text-center text-muted"}," Belum ada catatan penugasan. ",-1)])])):B("",!0),(i(!0),r(_,null,g(k.value,s=>{var c,m,f;return i(),r("tr",{key:s.id},[t("td",ut,[t("p",xt,a(((c=s.shift)==null?void 0:c.name)||"-"),1),t("p",mt,a(u((m=s.shift)==null?void 0:m.start_time))+" - "+a(u((f=s.shift)==null?void 0:f.end_time)),1)]),t("td",ft,[h(a(y(s.start_date))+" ",1),e[11]||(e[11]=t("span",{class:"text-muted"}," · ",-1)),h(" "+a(s.end_date?y(s.end_date):"Berjalan"),1)]),t("td",pt,[t("span",{class:p(["inline-flex px-2 py-1 rounded-full text-xs font-semibold",s.is_active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-600"])},a(s.is_active?"Aktif":"Selesai"),3)]),t("td",yt,a(s.notes||"-"),1)])}),128))])])]),w.value.length?(i(),r("div",_t,[(i(!0),r(_,null,g(w.value,(s,c)=>(i(),T(b(S),{key:c,href:s.url||"#",class:p(["px-3 py-1 rounded border text-sm",[s.active?"bg-primary text-white border-primary":"bg-surface-1 text-text border-border",!s.url&&"opacity-50 pointer-events-none"]]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):B("",!0)])]),_:1})])]),_:1})],64))}};export{At as default};

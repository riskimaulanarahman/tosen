import{m as _,a as n,b as i,h as s,i as h,w as u,e,t as a,l as c,q as k,p as j,v as m,d as p,A as b,o as l,F as v,j as w,G as K,H as V}from"./app-BKAzIGDl.js";import{A as B}from"./AuthenticatedLayout-CvTf77Xc.js";import{_ as E}from"./Card.vue_vue_type_script_setup_true_lang-B__DTBrn.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-D44kyhuY.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"space-y-6"},D={class:"flex items-center justify-between"},O={class:"text-muted"},P={class:"flex items-center space-x-4"},A={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},C={class:"space-y-6"},N={key:0,class:"mt-1 text-sm text-error"},U={key:0,class:"mt-1 text-sm text-error"},L={key:0,class:"mt-1 text-sm text-error"},T={key:0,class:"mt-1 text-sm text-error"},q={class:"space-y-6"},F={key:0,class:"mt-1 text-sm text-error"},I=["value"],z={key:0,class:"mt-1 text-sm text-error"},$={class:"bg-surface-1 border border-border rounded-lg p-4"},G={class:"space-y-2 text-sm"},H={class:"text-text ml-2"},R={class:"ml-2"},J={key:0,class:"text-success"},Q={key:1,class:"text-warning"},W={class:"text-text ml-2"},X={class:"text-text ml-2"},Y={key:0,class:"bg-surface-1 border border-border rounded-lg p-4"},Z={class:"text-text ml-2"},ee={class:"text-text ml-2"},te={class:"text-text ml-2"},se={class:"text-text ml-2"},oe={class:"flex items-center justify-end space-x-4 border-t border-border pt-6"},re={key:0},ae={key:1},ne={__name:"Edit",props:{employee:Object,outlets:Array},setup(d){const x=d,o=_({name:x.employee.name,email:x.employee.email,password:"",password_confirmation:"",outlet_id:x.employee.outlet_id,base_salary:x.employee.base_salary||""}),g=()=>{o.put(route("employees.update",x.employee.id),{onSuccess:()=>{window.handleSuccess(`Karyawan ${o.name} berhasil diperbarui.`)},onError:f=>{window.handleError(f)},onFinish:()=>o.reset("password","password_confirmation")})};return(f,t)=>(l(),n(v,null,[i(s(h),{title:"Edit Employee"}),i(B,null,{default:u(()=>[e("div",S,[e("div",D,[e("div",null,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}}," Edit Karyawan ",-1)),e("p",O," Perbarui informasi karyawan: "+a(d.employee.name),1)]),e("div",P,[i(s(c),{href:f.route("employees.show",d.employee.id)},{default:u(()=>[i(y,{variant:"secondary"},{default:u(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),k(" Lihat Detail ",-1)])]),_:1})]),_:1},8,["href"]),i(s(c),{href:f.route("employees.index")},{default:u(()=>[i(y,{variant:"secondary"},{default:u(()=>[...t[8]||(t[8]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7h18"})],-1),k(" Kembali ",-1)])]),_:1})]),_:1},8,["href"])])]),i(E,null,{default:u(()=>[e("form",{onSubmit:j(g,["prevent"]),class:"space-y-6"},[e("div",A,[e("div",C,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Nama Lengkap ",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(o).name=r),type:"text",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Masukkan nama karyawan",required:""},null,512),[[b,s(o).name]]),s(o).errors.name?(l(),n("div",N,a(s(o).errors.name),1)):p("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Email ",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s(o).email=r),type:"email",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"karyawan@contoh.com",required:""},null,512),[[b,s(o).email]]),s(o).errors.email?(l(),n("div",U,a(s(o).errors.email),1)):p("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Password Baru (Opsional) ",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).password=r),type:"password",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Kosongkan jika tidak ingin mengubah"},null,512),[[b,s(o).password]]),s(o).errors.password?(l(),n("div",L,a(s(o).errors.password),1)):p("",!0),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-muted"}," Kosongkan jika tidak ingin mengubah password ",-1))]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Konfirmasi Password Baru ",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(o).password_confirmation=r),type:"password",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Konfirmasi password baru"},null,512),[[b,s(o).password_confirmation]]),s(o).errors.password_confirmation?(l(),n("div",T,a(s(o).errors.password_confirmation),1)):p("",!0)])]),e("div",q,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Gaji Pokok (per bulan) ",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(o).base_salary=r),type:"number",min:"0",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Contoh: 2000000"},null,512),[[b,s(o).base_salary,void 0,{number:!0}]]),s(o).errors.base_salary?(l(),n("div",F,a(s(o).errors.base_salary),1)):p("",!0),t[15]||(t[15]=e("p",{class:"text-xs text-muted mt-1"}," Opsional. Kosongkan untuk memakai basic rate periode/outlet. ",-1))]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Penempatan Outlet ",-1)),m(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(o).outlet_id=r),class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",required:""},[t[16]||(t[16]=e("option",{value:""},"Pilih Outlet",-1)),(l(!0),n(v,null,w(d.outlets,r=>(l(),n("option",{key:r.id,value:r.id},a(r.name)+" - "+a(r.address),9,I))),128))],512),[[K,s(o).outlet_id]]),s(o).errors.outlet_id?(l(),n("div",z,a(s(o).errors.outlet_id),1)):p("",!0)]),e("div",$,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-text mb-3"}," Informasi Karyawan ",-1)),e("div",G,[e("div",null,[t[18]||(t[18]=e("span",{class:"text-text-3"},"ID Karyawan:",-1)),e("span",H,"#"+a(d.employee.id),1)]),e("div",null,[t[19]||(t[19]=e("span",{class:"text-text-3"},"Status Email:",-1)),e("span",R,[d.employee.email_verified_at?(l(),n("span",J," ✓ Terverifikasi ")):(l(),n("span",Q," ⚠ Belum Verifikasi "))])]),e("div",null,[t[20]||(t[20]=e("span",{class:"text-text-3"},"Tanggal Bergabung:",-1)),e("span",W,a(new Date(d.employee.created_at).toLocaleDateString("id-ID")),1)]),e("div",null,[t[21]||(t[21]=e("span",{class:"text-text-3"},"Total Absensi:",-1)),e("span",X,a(d.employee.attendances_count||0)+" kali ",1)])])]),s(o).outlet_id?(l(),n("div",Y,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold text-text mb-3"}," Detail Outlet ",-1)),(l(!0),n(v,null,w(d.outlets,r=>m((l(),n("div",{key:r.id,class:"space-y-2 text-sm"},[e("div",null,[t[23]||(t[23]=e("span",{class:"text-text-3"},"Nama:",-1)),e("span",Z,a(r.name),1)]),e("div",null,[t[24]||(t[24]=e("span",{class:"text-text-3"},"Alamat:",-1)),e("span",ee,a(r.address),1)]),e("div",null,[t[25]||(t[25]=e("span",{class:"text-text-3"},"Radius:",-1)),e("span",te,a(r.radius)+" meter",1)]),e("div",null,[t[26]||(t[26]=e("span",{class:"text-text-3"},"Koordinat:",-1)),e("span",se,a(r.latitude)+", "+a(r.longitude),1)])])),[[V,r.id==s(o).outlet_id]])),128))])):p("",!0)])]),e("div",oe,[i(s(c),{href:f.route("employees.index")},{default:u(()=>[i(y,{variant:"secondary"},{default:u(()=>[...t[28]||(t[28]=[k(" Batal ",-1)])]),_:1})]),_:1},8,["href"]),i(y,{type:"submit",disabled:s(o).processing,variant:"primary"},{default:u(()=>[s(o).processing?(l(),n("span",re,"Memperbarui...")):(l(),n("span",ae,"Simpan Perubahan"))]),_:1},8,["disabled"])])],32)]),_:1})])]),_:1})],64))}},pe=M(ne,[["__scopeId","data-v-404921a7"]]);export{pe as default};

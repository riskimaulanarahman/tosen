import{m as I,c as A,a as i,b as d,h as f,i as j,w as r,e as t,t as s,l as w,q as b,o as l,F as D,j as T,n as H}from"./app-CKTrW43v.js";import{A as L}from"./AuthenticatedLayout-CDs14gSP.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-CwzmMHeM.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-DINjassF.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-6"},$={class:"flex items-center justify-between"},E={class:"text-muted"},F={class:"flex items-center space-x-4"},N={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},O={class:"space-y-3"},z={class:"text-text font-medium"},R={class:"text-text font-medium"},Y={class:"mt-1"},q={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success"},G={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning"},P={class:"text-text font-medium"},Z={class:"text-text font-medium"},J={key:0,class:"space-y-3"},Q={class:"text-text font-medium"},U={class:"text-text text-sm"},W={class:"text-text font-medium"},X={class:"text-text text-sm"},tt={key:1,class:"text-center py-8"},et={class:"space-y-4"},st={class:"bg-surface-2 rounded-lg p-4"},at={class:"text-2xl font-bold text-primary"},ot={class:"bg-surface-2 rounded-lg p-4"},nt={class:"text-2xl font-bold text-info"},it={class:"bg-surface-2 rounded-lg p-4"},lt={class:"text-lg font-bold text-success"},dt={class:"flex items-center justify-between mb-6"},rt={class:"text-sm text-muted"},mt={key:0,class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-border"},xt={class:"bg-surface-1 divide-y divide-border"},ct={class:"px-6 py-4 whitespace-nowrap"},ft={class:"text-sm text-text-3"},pt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"text-sm text-success"},vt={class:"px-6 py-4 whitespace-nowrap"},kt={key:0,class:"text-sm text-warning"},gt={key:1,class:"text-sm text-muted"},yt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"text-sm text-text-3"},wt={class:"px-6 py-4 whitespace-nowrap"},bt={key:1,class:"text-center py-12"},Dt={class:"bg-error-50 border border-error rounded-lg p-4"},Mt={key:0},Bt={key:1},St={__name:"Show",props:{employee:Object},setup(a){const v=a,k=I({}),M=()=>{confirm(`Apakah Anda yakin ingin menghapus karyawan ${v.employee.name}?`)&&k.delete(route("employees.destroy",v.employee.id))},B=o=>new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=o=>{if(!o.check_out_time)return"Still checked in";const e=new Date(o.check_in_time),m=new Date(o.check_out_time)-e,n=Math.floor(m/(1e3*60*60)),y=Math.floor(m%(1e3*60*60)/(1e3*60));return`${n}h ${y}m`},g=A(()=>{const o=v.employee.attendances||[],e=o.length,x=o.filter(u=>{const c=new Date(u.created_at),h=new Date;return c.getMonth()===h.getMonth()&&c.getFullYear()===h.getFullYear()}).length,m=o.filter(u=>u.check_out_time).reduce((u,c)=>{const h=new Date(c.check_in_time),C=new Date(c.check_out_time);return u+(C-h)},0)/o.filter(u=>u.check_out_time).length||0,n=Math.floor(m/(1e3*60*60)),y=Math.floor(m%(1e3*60*60)/(1e3*60));return{total:e,thisMonth:x,averageDuration:n>0?`${n}h ${y}m`:"0h 0m"}});return(o,e)=>(l(),i(D,null,[d(f(j),{title:"Employee Details"}),d(L,null,{default:r(()=>[t("div",V,[t("div",$,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}}," Detail Karyawan ",-1)),t("p",E," Informasi lengkap: "+s(a.employee.name),1)]),t("div",F,[d(f(w),{href:o.route("employees.edit",a.employee.id)},{default:r(()=>[d(_,{variant:"secondary"},{default:r(()=>[...e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-4h-4v4zm0 0h6v2H6v-2z"})],-1),b(" Edit ",-1)])]),_:1})]),_:1},8,["href"]),d(f(w),{href:o.route("employees.index")},{default:r(()=>[d(_,{variant:"secondary"},{default:r(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),b(" Kembali ",-1)])]),_:1})]),_:1},8,["href"])])]),t("div",N,[d(p,null,{default:r(()=>[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-text mb-4"}," Informasi Personal ",-1)),t("div",O,[t("div",null,[e[3]||(e[3]=t("span",{class:"text-text-3 text-sm"},"Nama Lengkap",-1)),t("div",z,s(a.employee.name),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"text-text-3 text-sm"},"Email",-1)),t("div",R,s(a.employee.email),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"text-text-3 text-sm"},"Status Email",-1)),t("div",Y,[a.employee.email_verified_at?(l(),i("span",q," ✓ Terverifikasi ")):(l(),i("span",G," ⚠ Belum Verifikasi "))])]),t("div",null,[e[6]||(e[6]=t("span",{class:"text-text-3 text-sm"},"ID Karyawan",-1)),t("div",P," #"+s(a.employee.id),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"text-text-3 text-sm"},"Tanggal Bergabung",-1)),t("div",Z,s(B(a.employee.created_at)),1)])])]),_:1}),d(p,null,{default:r(()=>[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-text mb-4"}," Informasi Outlet ",-1)),a.employee.outlet?(l(),i("div",J,[t("div",null,[e[9]||(e[9]=t("span",{class:"text-text-3 text-sm"},"Nama Outlet",-1)),t("div",Q,s(a.employee.outlet.name),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-text-3 text-sm"},"Alamat",-1)),t("div",U,s(a.employee.outlet.address),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-text-3 text-sm"},"Radius Geofence",-1)),t("div",W,s(a.employee.outlet.radius)+" meter ",1)]),t("div",null,[e[12]||(e[12]=t("span",{class:"text-text-3 text-sm"},"Koordinat",-1)),t("div",X,s(a.employee.outlet.latitude)+", "+s(a.employee.outlet.longitude),1)])])):(l(),i("div",tt,[...e[13]||(e[13]=[t("svg",{class:"mx-auto h-12 w-12 text-text-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-text-3"}," Belum ada outlet ",-1),t("p",{class:"mt-1 text-sm text-muted"}," Karyawan ini belum ditugaskan ke outlet mana pun. ",-1)])]))]),_:1}),d(p,null,{default:r(()=>[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-text mb-4"}," Statistik Absensi ",-1)),t("div",et,[t("div",st,[t("div",at,s(g.value.total),1),e[15]||(e[15]=t("div",{class:"text-sm text-text-3"},"Total Absensi",-1))]),t("div",ot,[t("div",nt,s(g.value.thisMonth),1),e[16]||(e[16]=t("div",{class:"text-sm text-text-3"}," Absensi Bulan Ini ",-1))]),t("div",it,[t("div",lt,s(g.value.averageDuration),1),e[17]||(e[17]=t("div",{class:"text-sm text-text-3"}," Rata-rata Durasi ",-1))])])]),_:1})]),d(p,null,{default:r(()=>{var x,m;return[t("div",dt,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-text"}," Riwayat Absensi ",-1)),t("div",rt," Menampilkan "+s(((x=a.employee.attendances)==null?void 0:x.length)||0)+" record terbaru ",1)]),((m=a.employee.attendances)==null?void 0:m.length)>0?(l(),i("div",mt,[t("table",ut,[e[20]||(e[20]=t("thead",{class:"bg-surface-2"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Tanggal "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Check In "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Check Out "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Durasi "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Status ")])],-1)),t("tbody",xt,[(l(!0),i(D,null,T(a.employee.attendances,n=>(l(),i("tr",{key:n.id,class:"hover:bg-surface-2"},[t("td",ct,[t("div",ft,s(new Date(n.created_at).toLocaleDateString("id-ID")),1)]),t("td",pt,[t("div",ht,s(new Date(n.check_in_time).toLocaleTimeString("id-ID")),1)]),t("td",vt,[n.check_out_time?(l(),i("div",kt,s(new Date(n.check_out_time).toLocaleTimeString("id-ID")),1)):(l(),i("div",gt," - "))]),t("td",yt,[t("div",_t,s(S(n)),1)]),t("td",wt,[t("span",{class:H(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.status==="checked_in"?"bg-success-100 text-success":"bg-surface-3 text-text-3"])},s(n.status==="checked_in"?"Check-in":"Selesai"),3)])]))),128))])])])):(l(),i("div",bt,[...e[21]||(e[21]=[t("svg",{class:"mx-auto h-12 w-12 text-text-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012 2h2a2 2 0 012 2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-text-3"}," Tidak ada data absensi ",-1),t("p",{class:"mt-1 text-sm text-muted"}," Karyawan ini belum melakukan absensi. ",-1)])]))]}),_:1}),d(p,{class:"border-error"},{default:r(()=>[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-error mb-4"}," Zone Berbahaya ",-1)),t("div",Dt,[e[23]||(e[23]=t("p",{class:"text-sm text-text mb-4"}," Menghapus karyawan akan menghapus semua data terkait. Tindakan ini tidak dapat dibatalkan. ",-1)),d(_,{onClick:M,disabled:f(k).processing,variant:"danger"},{default:r(()=>[e[22]||(e[22]=t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 6h16"})],-1)),f(k).processing?(l(),i("span",Mt,"Menghapus...")):(l(),i("span",Bt,"Hapus Karyawan"))]),_:1},8,["disabled"])])]),_:1})])]),_:1})],64))}},Ht=K(St,[["__scopeId","data-v-aa8e1fb3"]]);export{Ht as default};

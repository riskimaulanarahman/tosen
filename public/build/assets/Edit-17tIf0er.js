import{m as _,a as n,b as i,h as s,i as h,w as u,e,t as a,l as y,q as w,p as j,v as m,d as p,A as c,o as l,F as v,j as k,G as B,H as E}from"./app-CrbtziG4.js";import{A as K}from"./AuthenticatedLayout-CAMF503l.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-DMPMrx_v.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-BvtWu8U6.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"space-y-6"},D={class:"flex items-center justify-between"},A={class:"text-muted"},N={class:"flex items-center space-x-4"},O={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},P={class:"space-y-6"},C={key:0,class:"mt-1 text-sm text-error"},L={key:0,class:"mt-1 text-sm text-error"},T={key:0,class:"mt-1 text-sm text-error"},U={key:0,class:"mt-1 text-sm text-error"},q={class:"space-y-6"},F=["value"],I={key:0,class:"mt-1 text-sm text-error"},z={class:"bg-surface-1 border border-border rounded-lg p-4"},$={class:"space-y-2 text-sm"},G={class:"text-text ml-2"},H={class:"ml-2"},R={key:0,class:"text-success"},J={key:1,class:"text-warning"},Q={class:"text-text ml-2"},W={class:"text-text ml-2"},X={key:0,class:"bg-surface-1 border border-border rounded-lg p-4"},Y={class:"text-text ml-2"},Z={class:"text-text ml-2"},ee={class:"text-text ml-2"},te={class:"text-text ml-2"},se={class:"flex items-center justify-end space-x-4 border-t border-border pt-6"},oe={key:0},re={key:1},ae={__name:"Edit",props:{employee:Object,outlets:Array},setup(d){const f=d,o=_({name:f.employee.name,email:f.employee.email,password:"",password_confirmation:"",outlet_id:f.employee.outlet_id}),g=()=>{o.put(route("employees.update",f.employee.id),{onSuccess:()=>{window.handleSuccess(`Karyawan ${o.name} berhasil diperbarui.`)},onError:x=>{window.handleError(x)},onFinish:()=>o.reset("password","password_confirmation")})};return(x,t)=>(l(),n(v,null,[i(s(h),{title:"Edit Employee"}),i(K,null,{default:u(()=>[e("div",S,[e("div",D,[e("div",null,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}}," Edit Karyawan ",-1)),e("p",A," Perbarui informasi karyawan: "+a(d.employee.name),1)]),e("div",N,[i(s(y),{href:x.route("employees.show",d.employee.id)},{default:u(()=>[i(b,{variant:"secondary"},{default:u(()=>[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),w(" Lihat Detail ",-1)])]),_:1})]),_:1},8,["href"]),i(s(y),{href:x.route("employees.index")},{default:u(()=>[i(b,{variant:"secondary"},{default:u(()=>[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7h18"})],-1),w(" Kembali ",-1)])]),_:1})]),_:1},8,["href"])])]),i(V,null,{default:u(()=>[e("form",{onSubmit:j(g,["prevent"]),class:"space-y-6"},[e("div",O,[e("div",P,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Nama Lengkap ",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(o).name=r),type:"text",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Masukkan nama karyawan",required:""},null,512),[[c,s(o).name]]),s(o).errors.name?(l(),n("div",C,a(s(o).errors.name),1)):p("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Email ",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s(o).email=r),type:"email",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"karyawan@contoh.com",required:""},null,512),[[c,s(o).email]]),s(o).errors.email?(l(),n("div",L,a(s(o).errors.email),1)):p("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Password Baru (Opsional) ",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).password=r),type:"password",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Kosongkan jika tidak ingin mengubah"},null,512),[[c,s(o).password]]),s(o).errors.password?(l(),n("div",T,a(s(o).errors.password),1)):p("",!0),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-muted"}," Kosongkan jika tidak ingin mengubah password ",-1))]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Konfirmasi Password Baru ",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(o).password_confirmation=r),type:"password",class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Konfirmasi password baru"},null,512),[[c,s(o).password_confirmation]]),s(o).errors.password_confirmation?(l(),n("div",U,a(s(o).errors.password_confirmation),1)):p("",!0)])]),e("div",q,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-text-3 text-sm font-medium mb-2"}," Penempatan Outlet ",-1)),m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(o).outlet_id=r),class:"w-full px-3 py-2 bg-surface-1 border border-border text-text rounded-none focus:outline-none focus:ring-2 focus:ring-primary",required:""},[t[13]||(t[13]=e("option",{value:""},"Pilih Outlet",-1)),(l(!0),n(v,null,k(d.outlets,r=>(l(),n("option",{key:r.id,value:r.id},a(r.name)+" - "+a(r.address),9,F))),128))],512),[[B,s(o).outlet_id]]),s(o).errors.outlet_id?(l(),n("div",I,a(s(o).errors.outlet_id),1)):p("",!0)]),e("div",z,[t[19]||(t[19]=e("h3",{class:"text-lg font-semibold text-text mb-3"}," Informasi Karyawan ",-1)),e("div",$,[e("div",null,[t[15]||(t[15]=e("span",{class:"text-text-3"},"ID Karyawan:",-1)),e("span",G,"#"+a(d.employee.id),1)]),e("div",null,[t[16]||(t[16]=e("span",{class:"text-text-3"},"Status Email:",-1)),e("span",H,[d.employee.email_verified_at?(l(),n("span",R," ✓ Terverifikasi ")):(l(),n("span",J," ⚠ Belum Verifikasi "))])]),e("div",null,[t[17]||(t[17]=e("span",{class:"text-text-3"},"Tanggal Bergabung:",-1)),e("span",Q,a(new Date(d.employee.created_at).toLocaleDateString("id-ID")),1)]),e("div",null,[t[18]||(t[18]=e("span",{class:"text-text-3"},"Total Absensi:",-1)),e("span",W,a(d.employee.attendances_count||0)+" kali ",1)])])]),s(o).outlet_id?(l(),n("div",X,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-text mb-3"}," Detail Outlet ",-1)),(l(!0),n(v,null,k(d.outlets,r=>m((l(),n("div",{key:r.id,class:"space-y-2 text-sm"},[e("div",null,[t[20]||(t[20]=e("span",{class:"text-text-3"},"Nama:",-1)),e("span",Y,a(r.name),1)]),e("div",null,[t[21]||(t[21]=e("span",{class:"text-text-3"},"Alamat:",-1)),e("span",Z,a(r.address),1)]),e("div",null,[t[22]||(t[22]=e("span",{class:"text-text-3"},"Radius:",-1)),e("span",ee,a(r.radius)+" meter",1)]),e("div",null,[t[23]||(t[23]=e("span",{class:"text-text-3"},"Koordinat:",-1)),e("span",te,a(r.latitude)+", "+a(r.longitude),1)])])),[[E,r.id==s(o).outlet_id]])),128))])):p("",!0)])]),e("div",se,[i(s(y),{href:x.route("employees.index")},{default:u(()=>[i(b,{variant:"secondary"},{default:u(()=>[...t[25]||(t[25]=[w(" Batal ",-1)])]),_:1})]),_:1},8,["href"]),i(b,{type:"submit",disabled:s(o).processing,variant:"primary"},{default:u(()=>[s(o).processing?(l(),n("span",oe,"Memperbarui...")):(l(),n("span",re,"Simpan Perubahan"))]),_:1},8,["disabled"])])],32)]),_:1})])]),_:1})],64))}},me=M(ae,[["__scopeId","data-v-3ad12a1a"]]);export{me as default};

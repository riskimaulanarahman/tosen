import{c as _,a as n,b as l,h,i as T,w as o,e as t,t as a,l as w,q as y,n as v,d as j,o as r,F as b,j as D}from"./app-CKTrW43v.js";import{A as N}from"./AuthenticatedLayout-CDs14gSP.js";import{_ as f}from"./Card.vue_vue_type_script_setup_true_lang-CwzmMHeM.js";import{_ as S}from"./Button.vue_vue_type_script_setup_true_lang-DINjassF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"space-y-6"},C={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},O={class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}},$={class:"flex gap-3"},L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},P={class:"p-6 space-y-4"},I={class:"flex items-center justify-between"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"bg-surface-2 border border-border rounded-lg p-4"},K={class:"text-xl font-semibold text-text"},q={class:"text-xs text-muted mt-1"},F={class:"bg-surface-2 border border-border rounded-lg p-4"},W={class:"text-xl font-semibold text-text"},z={class:"text-xs text-muted mt-1"},E={class:"text-sm text-muted"},R={class:"p-6 space-y-4"},Y={class:"space-y-3 text-sm"},G={class:"flex justify-between"},H={class:"font-semibold text-text"},M={class:"flex justify-between"},Q={class:"font-semibold text-text"},U={class:"flex justify-between"},X={class:"font-semibold text-text"},Z={class:"p-6 space-y-4"},tt={class:"overflow-x-auto"},st={class:"min-w-full divide-y divide-border text-sm"},et={class:"divide-y divide-border"},at={key:0},it={class:"px-4 py-3"},dt={class:"px-4 py-3"},lt={class:"px-4 py-3"},ot={class:"px-4 py-3 text-xs text-muted"},nt={class:"p-6 space-y-4"},rt={class:"overflow-x-auto"},xt={class:"min-w-full divide-y divide-border text-sm"},ut={class:"divide-y divide-border"},ct={key:0},ft={class:"px-4 py-3"},pt={class:"text-xs text-muted"},mt={class:"px-4 py-3"},_t={class:"px-4 py-3"},ht={class:"px-4 py-3 text-xs text-muted"},wt={__name:"Show",props:{shift:{type:Object,required:!0}},setup(d){const c=d,p=_(()=>{var i;return((i=c.shift)==null?void 0:i.shift_schedules)||[]}),m=_(()=>{var i;return((i=c.shift)==null?void 0:i.employee_shifts)||[]}),g=i=>i?new Date(`1970-01-01T${i}`).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-",x=i=>i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",B=_(()=>{var i,s;return(i=c.shift)!=null&&i.is_active?(s=c.shift)!=null&&s.is_overnight?"bg-purple-100 text-purple-800":"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"});return(i,s)=>(r(),n(b,null,[l(h(T),{title:`Detail Shift: ${d.shift.name}`},null,8,["title"]),l(N,null,{default:o(()=>[t("div",A,[t("div",C,[t("div",null,[t("h1",O,a(d.shift.name),1),s[0]||(s[0]=t("p",{class:"text-muted"},"Pengaturan detail shift dan riwayat terkait",-1))]),t("div",$,[l(h(w),{href:i.route("shifts.index")},{default:o(()=>[l(S,{variant:"secondary"},{default:o(()=>[...s[1]||(s[1]=[y("Kembali",-1)])]),_:1})]),_:1},8,["href"]),l(h(w),{href:i.route("shifts.statistics"),class:"hidden sm:block"},{default:o(()=>[l(S,{variant:"primary"},{default:o(()=>[...s[2]||(s[2]=[y("Lihat Statistik",-1)])]),_:1})]),_:1},8,["href"])])]),t("div",L,[l(f,{class:"lg:col-span-2"},{default:o(()=>[t("div",P,[t("div",I,[s[3]||(s[3]=t("h2",{class:"text-lg font-semibold text-text"},"Informasi Shift",-1)),t("span",{class:v(["text-xs px-3 py-1 rounded-full",B.value])},a(d.shift.is_active?"Aktif":"Nonaktif"),3)]),t("div",V,[t("div",J,[s[4]||(s[4]=t("p",{class:"text-sm text-muted"},"Waktu Operasional",-1)),t("p",K,a(g(d.shift.start_time))+" - "+a(g(d.shift.end_time)),1),t("p",q," Istirahat "+a(d.shift.break_duration)+" menit ",1)]),t("div",F,[s[5]||(s[5]=t("p",{class:"text-sm text-muted"},"Overnight",-1)),t("p",W,a(d.shift.is_overnight?"Ya":"Tidak"),1),t("p",z," Warna indikator: "+a(d.shift.color_code),1)])]),t("div",null,[s[6]||(s[6]=t("p",{class:"text-sm font-semibold text-text mb-2"},"Deskripsi",-1)),t("p",E,a(d.shift.description||"Belum ada deskripsi untuk shift ini."),1)])])]),_:1}),l(f,null,{default:o(()=>[t("div",R,[s[10]||(s[10]=t("h2",{class:"text-lg font-semibold text-text"},"Ringkasan",-1)),t("div",Y,[t("div",G,[s[7]||(s[7]=t("span",{class:"text-muted"},"Total Jadwal",-1)),t("span",H,a(p.value.length),1)]),t("div",M,[s[8]||(s[8]=t("span",{class:"text-muted"},"Penugasan Aktif",-1)),t("span",Q,a(m.value.filter(e=>e.is_active).length),1)]),t("div",U,[s[9]||(s[9]=t("span",{class:"text-muted"},"Terakhir diperbarui",-1)),t("span",X,a(x(d.shift.updated_at)),1)])])])]),_:1})]),l(f,null,{default:o(()=>[t("div",Z,[s[13]||(s[13]=t("h2",{class:"text-lg font-semibold text-text"},"Jadwal Terkait",-1)),t("div",tt,[t("table",st,[s[12]||(s[12]=t("thead",null,[t("tr",{class:"text-left text-xs uppercase text-muted"},[t("th",{class:"px-4 py-3"},"Outlet"),t("th",{class:"px-4 py-3"},"Periode"),t("th",{class:"px-4 py-3"},"Status"),t("th",{class:"px-4 py-3"},"Catatan")])],-1)),t("tbody",et,[p.value.length===0?(r(),n("tr",at,[...s[11]||(s[11]=[t("td",{colspan:"4",class:"px-4 py-6 text-center text-muted"}," Jadwal belum tersedia. ",-1)])])):j("",!0),(r(!0),n(b,null,D(p.value,e=>{var u;return r(),n("tr",{key:e.id},[t("td",it,a(((u=e.outlet)==null?void 0:u.name)||`Outlet #${e.outlet_id}`),1),t("td",dt,a(x(e.effective_date))+" - "+a(e.end_date?x(e.end_date):"Berjalan"),1),t("td",lt,[t("span",{class:v(["inline-flex px-2 py-1 rounded-full text-xs",e.is_active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-600"])},a(e.is_active?"Aktif":"Nonaktif"),3)]),t("td",ot,a(e.notes||"-"),1)])}),128))])])])])]),_:1}),l(f,null,{default:o(()=>[t("div",nt,[s[16]||(s[16]=t("h2",{class:"text-lg font-semibold text-text"},"Penugasan Karyawan",-1)),t("div",rt,[t("table",xt,[s[15]||(s[15]=t("thead",null,[t("tr",{class:"text-left text-xs uppercase text-muted"},[t("th",{class:"px-4 py-3"},"Nama"),t("th",{class:"px-4 py-3"},"Periode"),t("th",{class:"px-4 py-3"},"Status"),t("th",{class:"px-4 py-3"},"Catatan")])],-1)),t("tbody",ut,[m.value.length===0?(r(),n("tr",ct,[...s[14]||(s[14]=[t("td",{colspan:"4",class:"px-4 py-6 text-center text-muted"}," Belum ada karyawan yang ditugaskan. ",-1)])])):j("",!0),(r(!0),n(b,null,D(m.value,e=>{var u,k;return r(),n("tr",{key:e.id},[t("td",ft,[y(a(((u=e.user)==null?void 0:u.name)||`Karyawan #${e.user_id}`)+" ",1),t("p",pt,a(((k=e.user)==null?void 0:k.email)||"-"),1)]),t("td",mt,a(x(e.start_date))+" - "+a(e.end_date?x(e.end_date):"Berjalan"),1),t("td",_t,[t("span",{class:v(["inline-flex px-2 py-1 rounded-full text-xs",e.is_active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-600"])},a(e.is_active?"Aktif":"Berakhir"),3)]),t("td",ht,a(e.notes||"-"),1)])}),128))])])])])]),_:1})])]),_:1})],64))}};export{wt as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-WxExpIBl.js","assets/app-CrbtziG4.js","assets/app-C6ErpwUY.css"])))=>i.map(i=>d[i]);
import{r as d,c as g,C as v,D as b,k,o as h,w,e as t,t as a,q as _,_ as M}from"./app-CrbtziG4.js";import{_ as j}from"./Modal-B9fOm8Jk.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"p-6"},$={class:"flex items-center justify-between mb-4"},B={class:"text-sm text-muted mt-1"},T={class:"bg-surface-2 rounded-lg p-4 mb-4"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"text-sm text-muted"},D={class:"text-sm text-muted"},I={class:"text-sm text-muted"},P={class:"text-sm text-muted"},z={class:"mb-4"},R={class:"flex justify-end space-x-3"},V=["href"],q={__name:"MapModal",props:{show:{type:Boolean,default:!1},outlet:{type:Object,required:!0}},emits:["close"],setup(l,{emit:p}){const o=l,i=p,r=d(null),n=d(null),u=d(null),x=g(()=>!o.outlet.latitude||!o.outlet.longitude?"#":`https://www.google.com/maps?q=${o.outlet.latitude},${o.outlet.longitude}`),f=()=>{!r.value||!o.outlet.latitude||!o.outlet.longitude||M(()=>import("./leaflet-src-WxExpIBl.js").then(s=>s.l),__vite__mapDeps([0,1,2])).then(s=>{delete s.Icon.Default.prototype._getIconUrl,s.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"}),n.value=s.map(r.value).setView([o.outlet.latitude,o.outlet.longitude],15),s.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors"}).addTo(n.value),u.value=s.marker([o.outlet.latitude,o.outlet.longitude]).addTo(n.value);const e=`
            <div class="text-sm">
                <strong>${o.outlet.name}</strong><br>
                ${o.outlet.address||"Alamat tidak tersedia"}<br>
                Radius: ${o.outlet.radius||0}m
            </div>
        `;u.value.bindPopup(e).openPopup()})},m=()=>{n.value&&(n.value.remove(),n.value=null,u.value=null)};return v(()=>o.show,s=>{s?setTimeout(()=>{f()},100):m()}),b(()=>{m()}),(s,e)=>(h(),k(j,{show:l.show,onClose:e[2]||(e[2]=c=>i("close")),maxWidth:"4xl"},{default:w(()=>[t("div",C,[t("div",$,[t("div",null,[e[3]||(e[3]=t("h3",{class:"text-lg font-semibold text-text"}," Peta Lokasi Outlet ",-1)),t("p",B,a(l.outlet.name),1)]),t("button",{onClick:e[0]||(e[0]=c=>i("close")),class:"text-muted hover:text-text transition-colors"},[...e[4]||(e[4]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",T,[t("div",O,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-text"},"Nama Outlet",-1)),t("p",U,a(l.outlet.name),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-text"},"Alamat",-1)),t("p",D,a(l.outlet.address||"Tidak tersedia"),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-text"},"Koordinat",-1)),t("p",I,a(l.outlet.latitude)+", "+a(l.outlet.longitude),1)]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-text"},"Radius",-1)),t("p",P,a(l.outlet.radius||0)+" meter ",1)])])]),t("div",z,[t("div",{ref_key:"mapContainer",ref:r,class:"w-full h-96 rounded-lg border border-border bg-surface-2"},null,512)]),t("div",R,[t("a",{href:x.value,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors"},[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),_(" Buka di Google Maps ",-1)])],8,V),t("button",{onClick:e[1]||(e[1]=c=>i("close")),class:"px-4 py-2 bg-surface-3 hover:bg-surface-4 text-text text-sm font-medium rounded-lg transition-colors"}," Tutup ")])])]),_:1},8,["show"]))}},S=y(q,[["__scopeId","data-v-879a21e1"]]);export{S as M};

import{r as b,c as w,a as d,b as r,h as j,i as T,w as m,e as t,q as p,t as e,o as n,F as _,j as y,k as A}from"./app-Bz8NXQHf.js";import{A as M}from"./AuthenticatedLayout-DPPCjjNc.js";import{_ as h}from"./Card.vue_vue_type_script_setup_true_lang-B3Ih3BVq.js";import{_ as f}from"./Button.vue_vue_type_script_setup_true_lang-CEveZ12M.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},K={class:"flex items-center justify-between"},L={class:"flex items-center space-x-4"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},E={class:"bg-surface-2 rounded-lg p-6"},H={class:"text-3xl font-bold text-primary"},z={class:"bg-surface-2 rounded-lg p-6"},R={class:"text-3xl font-bold text-info"},J={class:"bg-surface-2 rounded-lg p-6"},O={class:"text-3xl font-bold text-success"},P={key:0,class:"space-y-6"},S={class:"mb-6"},N={class:"text-xl font-semibold text-text"},F={class:"flex items-center space-x-4 mt-2 text-sm text-muted"},U={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},$={class:"bg-surface-2 rounded-lg p-4"},q={class:"text-xl font-bold text-warning"},I={class:"bg-surface-2 rounded-lg p-4"},G={class:"text-xl font-bold text-info"},Q={class:"bg-surface-2 rounded-lg p-4"},W={class:"text-xl font-bold text-accent"},X={key:0},Y={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-border"},D={class:"bg-surface-1 divide-y divide-border"},tt={class:"px-6 py-4"},st={class:"text-sm font-medium text-text"},et={class:"text-sm text-text-3"},at={class:"px-6 py-4"},ot={class:"text-sm text-text-3"},lt={class:"px-6 py-4"},nt={class:"text-sm text-text-3"},dt={class:"px-6 py-4"},it={class:"text-sm text-text-3"},rt={key:1,class:"text-center py-8"},mt={key:1,class:"text-center py-12"},xt={class:"mt-6"},ut={__name:"Summary",props:{summaryData:Array,outlets:Array,filters:Object},setup(u){const x=u,i=b({outlet_id:x.filters.outlet_id||"",date_from:x.filters.date_from||"",date_to:x.filters.date_to||""}),v=()=>{const o=new URLSearchParams;Object.keys(i.value).forEach(s=>{i.value[s]&&o.append(s,i.value[s])}),window.location.href=route("reports.index")+"?"+o.toString()},g=()=>{const o=new URLSearchParams;Object.keys(i.value).forEach(s=>{i.value[s]&&o.append(s,i.value[s])}),window.location.href=route("reports.export")+"?"+o.toString()},c=w(()=>x.summaryData.reduce((o,s)=>(o.totalAttendances+=s.total_attendances,o.totalEmployees+=s.total_employees,o.totalHours+=s.employee_stats.reduce((a,l)=>a+l.total_hours,0),o),{totalAttendances:0,totalEmployees:0,totalHours:0}));return(o,s)=>(n(),d(_,null,[r(j(T),{title:"Ringkasan Laporan"}),r(M,null,{default:m(()=>[t("div",B,[t("div",K,[s[2]||(s[2]=t("div",null,[t("h1",{class:"text-2xl font-bold text-text",style:{"font-family":"'Oswald', sans-serif"}}," Ringkasan Laporan "),t("p",{class:"text-muted"},"Analisis komprehensif data absensi")],-1)),t("div",L,[r(f,{onClick:v,variant:"secondary"},{default:m(()=>[...s[0]||(s[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Kembali ke Laporan ",-1)])]),_:1}),r(f,{onClick:g,variant:"primary"},{default:m(()=>[...s[1]||(s[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),p(" Export CSV ",-1)])]),_:1})])]),r(h,null,{default:m(()=>[t("div",V,[t("div",E,[t("div",H,e(c.value.totalAttendances),1),s[3]||(s[3]=t("div",{class:"text-sm text-muted mt-2"},"Total Absensi",-1))]),t("div",z,[t("div",R,e(c.value.totalEmployees),1),s[4]||(s[4]=t("div",{class:"text-sm text-muted mt-2"}," Total Karyawan ",-1))]),t("div",J,[t("div",O,e(Math.round(c.value.totalHours))+"j ",1),s[5]||(s[5]=t("div",{class:"text-sm text-muted mt-2"}," Total Jam Kerja ",-1))])])]),_:1}),u.summaryData.length>0?(n(),d("div",P,[(n(!0),d(_,null,y(u.summaryData,a=>(n(),A(h,{key:a.outlet.id},{default:m(()=>[t("div",S,[t("h3",N,e(a.outlet.name),1),t("div",F,[t("span",null,e(a.outlet.address),1),s[6]||(s[6]=t("span",null,"•",-1)),t("span",null,e(a.total_employees)+" karyawan",1),s[7]||(s[7]=t("span",null,"•",-1)),t("span",null,e(a.total_attendances)+" absensi",1)])]),t("div",U,[t("div",$,[t("div",q,e(a.total_attendances),1),s[8]||(s[8]=t("div",{class:"text-sm text-muted"},"Total Absensi",-1))]),t("div",I,[t("div",G,e(a.total_employees),1),s[9]||(s[9]=t("div",{class:"text-sm text-muted"}," Jumlah Karyawan ",-1))]),t("div",Q,[t("div",W,e(Math.round(a.employee_stats.reduce((l,k)=>l+k.total_hours,0)))+"j ",1),s[10]||(s[10]=t("div",{class:"text-sm text-muted"}," Total Jam Kerja ",-1))])]),a.employee_stats.length>0?(n(),d("div",X,[s[12]||(s[12]=t("h4",{class:"text-lg font-medium text-text mb-4"}," Performa Karyawan ",-1)),t("div",Y,[t("table",Z,[s[11]||(s[11]=t("thead",{class:"bg-surface-2"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Karyawan "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Total Absensi "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Total Jam "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-text-3 uppercase tracking-wider"}," Rata-rata Jam ")])],-1)),t("tbody",D,[(n(!0),d(_,null,y(a.employee_stats,l=>(n(),d("tr",{key:l.employee.id,class:"hover:bg-surface-2"},[t("td",tt,[t("div",null,[t("div",st,e(l.employee.name),1),t("div",et,e(l.employee.email),1)])]),t("td",at,[t("div",ot,e(l.total_attendances),1)]),t("td",lt,[t("div",nt,e(l.total_hours)+"j ",1)]),t("td",dt,[t("div",it,e(l.average_hours)+"j ",1)])]))),128))])])])])):(n(),d("div",rt,[...s[13]||(s[13]=[t("svg",{class:"mx-auto h-12 w-12 text-text-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-text-3"}," Tidak ada karyawan ",-1),t("p",{class:"mt-1 text-sm text-muted"}," Outlet ini belum memiliki karyawan. ",-1)])]))]),_:2},1024))),128))])):(n(),d("div",mt,[s[15]||(s[15]=t("svg",{class:"mx-auto h-16 w-16 text-text-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6a2 2 0 002 2zm6-4V7a1 1 0 011-1h4a1 1 0 011 1v6a1 1 0 01-1 1h-4a1 1 0 01-1-1z"})],-1)),s[16]||(s[16]=t("h3",{class:"mt-4 text-lg font-medium text-text-3"}," Tidak ada data laporan ",-1)),s[17]||(s[17]=t("p",{class:"mt-2 text-muted"}," Tidak ada data absensi yang sesuai dengan filter yang dipilih. ",-1)),t("div",xt,[r(f,{onClick:v,variant:"secondary"},{default:m(()=>[...s[14]||(s[14]=[p(" Kembali ke Laporan ",-1)])]),_:1})])]))])]),_:1})],64))}},yt=C(ut,[["__scopeId","data-v-d2ad1554"]]);export{yt as default};

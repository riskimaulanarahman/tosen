import{O as E,r as b,P as U,u as H,c as S,C as T,a as d,o as l,z as O,e,F as $,j as L,k as D,v as N,n as g,t as p,H as P,w as C,h as c,l as z,d as A,b as _,q as j,B as F,f as R,D as W,y as V}from"./app-DLRClR93.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B=E("theme",()=>{const m=b(!1),u=()=>{m.value=!m.value},i=()=>{const t=localStorage.getItem("theme");t!==null?m.value=t==="dark":(window.matchMedia("(prefers-color-scheme: dark)").matches,m.value=!1)};return U(()=>{const t=document.documentElement;m.value?t.classList.add("dark"):t.classList.remove("dark"),localStorage.setItem("theme",m.value?"dark":"light")}),i(),{isDark:m,toggleTheme:u,initTheme:i}}),q=[{name:"Dashboard",href:"/dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",roles:["owner","employee"]},{name:"Manajemen Outlet",href:"/outlets",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",roles:["owner"]},{name:"Manajemen Karyawan",href:"/employees",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",roles:["owner"]},{name:"Laporan",href:"/reports",icon:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6a2 2 0 002 2zm6-4V7a1 1 0 01-1 1h-4a1 1 0 01-1 1h-4a1 1 0 01-1-1z",roles:["owner"]}],G=[{name:"Dashboard",href:"/dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",roles:["owner","employee"]},{name:"Absensi",href:"/attendance",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",roles:["employee"]}],K=(m,u)=>(u==="owner"?q:G).map(t=>({...t,current:t.href===m})),J={class:"w-64 bg-surface-0 h-full overflow-y-auto border-r border-border"},Q={class:"p-4 space-y-2"},X={key:0},Y=["onClick"],Z={class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ee=["d"],te={class:"ml-3"},se={class:"mt-1 space-y-1 overflow-hidden transition-all duration-200"},oe={class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re=["d"],ne={class:"ml-3"},ae={class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le=["d"],ie={class:"ml-3"},de={class:"absolute bottom-0 left-0 right-0 p-4 border-t border-border"},ue={class:"flex items-center justify-between"},ce={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},me={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={class:"text-xs"},ve={__name:"AppSidebar",setup(m){const u=H(),i=B(),t=b({}),f=S(()=>{var s,o;return(o=(s=u.props.auth)==null?void 0:s.user)==null?void 0:o.role}),v=S(()=>{var o;const s=(o=u.props)==null?void 0:o.url;return typeof s=="string"&&s.length>0?s.split("?")[0]:typeof window<"u"&&window.location&&window.location.pathname||""}),h=S(()=>K(v.value,f.value)),a=(s,o=null)=>{const r=o||v.value;return!!(r===s||r.startsWith(s+"/"))},x=(s,o=null)=>{if(!s||!Array.isArray(s))return!1;const r=o||v.value;return s.some(n=>n!=null&&n.href?!!(r===n.href||r.startsWith(n.href+"/")):!1)},k=()=>{const s=v.value;(h.value||[]).forEach(r=>{if(r.children){const n=x(r.children,s);t.value[r.name]=n}})};T(v,()=>{k()},{immediate:!0}),T(h,()=>{k()},{immediate:!0});const M=s=>{t.value[s]=!t.value[s]},w=s=>{if(!s)return[];const o=s.children?x(s.children):a(s.href),r=s.children&&t.value[s.name];return["w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200",o?"bg-surface-1 text-primary border-l-4 border-primary":"text-text-3 hover:text-text hover:bg-surface-1",r&&!o&&"bg-surface-1"]},y=s=>s?["w-full flex items-center px-4 py-2 text-sm rounded-lg transition-all duration-200",a(s)?"bg-surface-2 text-primary border-l-4 border-primary ml-2":"text-muted hover:text-text hover:bg-surface-2 ml-2"]:[];return(s,o)=>(l(),d("aside",J,[o[5]||(o[5]=O('<div class="p-6 border-b border-border" data-v-f900a164><div class="flex items-center space-x-3" data-v-f900a164><div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center" data-v-f900a164><svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-f900a164><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" data-v-f900a164></path></svg></div><div data-v-f900a164><h1 class="text-xl font-bold text-text" data-v-f900a164>TOSEN TOGA</h1><p class="text-xs text-muted" data-v-f900a164>Presence</p></div></div></div>',1)),e("nav",Q,[(l(!0),d($,null,L(h.value,r=>(l(),d($,{key:r.name},[r.children?(l(),d("div",X,[e("button",{onClick:n=>M(r.name),class:g(w(r))},[(l(),d("svg",Z,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.icon},null,8,ee)])),e("span",te,p(r.name),1),(l(),d("svg",{class:g(["w-4 h-4 ml-auto transition-transform duration-200",{"rotate-180":t.value[r.name]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[1]||(o[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],10,Y),N(e("div",se,[(l(!0),d($,null,L(r.children,n=>(l(),D(c(z),{key:(n==null?void 0:n.name)||"child-"+Math.random(),href:(n==null?void 0:n.href)||"#",class:g(y(n==null?void 0:n.href))},{default:C(()=>[(l(),d("svg",oe,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:(n==null?void 0:n.icon)||""},null,8,re)])),e("span",ne,p((n==null?void 0:n.name)||"Unknown"),1)]),_:2},1032,["href","class"]))),128))],512),[[P,t.value[r.name]]])])):(l(),D(c(z),{key:1,href:r.href,class:g(w(r))},{default:C(()=>[(l(),d("svg",ae,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.icon},null,8,le)])),e("span",ie,p(r.name),1)]),_:2},1032,["href","class"]))],64))),128))]),e("div",de,[e("div",ue,[e("button",{onClick:o[0]||(o[0]=(...r)=>c(i).toggleTheme&&c(i).toggleTheme(...r)),class:"flex items-center space-x-2 p-2 text-muted hover:text-text rounded-lg transition-colors duration-200"},[c(i).isDark?(l(),d("svg",ce,[...o[2]||(o[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(l(),d("svg",me,[...o[3]||(o[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])])),e("span",fe,p(c(i).isDark?"Light":"Dark"),1)]),o[4]||(o[4]=e("div",{class:"text-xs text-muted"},"Version 1.0.0",-1))])])]))}},he=I(ve,[["__scopeId","data-v-f900a164"]]),pe=["title"],xe={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ke={__name:"ThemeToggle",setup(m){const u=B();return(i,t)=>(l(),d("button",{onClick:t[0]||(t[0]=(...f)=>c(u).toggleTheme&&c(u).toggleTheme(...f)),class:"p-2 text-muted hover:text-text rounded-lg transition-colors duration-200",title:c(u).isDark?"Switch to light mode":"Switch to dark mode"},[c(u).isDark?(l(),d("svg",xe,[...t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(l(),d("svg",ge,[...t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],8,pe))}},we={class:"bg-surface-0 border-b border-border"},_e={class:"flex justify-between items-center p-4"},be={class:"flex items-center space-x-4"},Me={class:"flex items-center space-x-4"},ye={class:"relative profile-menu"},Ce={class:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center"},ze={class:"text-sm font-medium text-white"},Se={class:"hidden sm:block text-left"},$e={class:"text-sm font-medium text-text"},je={class:"text-xs text-muted"},Ae={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-surface-0 border border-border rounded-lg shadow-lg z-50"},Be={__name:"AppHeader",props:{toggleSidebar:{type:Function,required:!1}},setup(m){const u=H(),i=b(!1),t=m,f=()=>{i.value=!i.value},v=()=>{F.post("/logout")};return document.addEventListener("click",h=>{h.target.closest(".profile-menu")||(i.value=!1)}),(h,a)=>{var x,k,M,w,y,s,o,r;return l(),d("header",we,[e("div",_e,[e("div",be,[t.toggleSidebar?(l(),d("button",{key:0,onClick:a[0]||(a[0]=(...n)=>t.toggleSidebar&&t.toggleSidebar(...n)),class:"lg:hidden p-2 text-text-2 hover:bg-surface-1 rounded-lg transition-colors duration-200"},[...a[1]||(a[1]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])):A("",!0),a[2]||(a[2]=e("div",{class:"flex-1"},null,-1))]),e("div",Me,[_(ke),e("div",ye,[e("button",{onClick:f,class:"flex items-center space-x-3 p-2 text-text-2 hover:bg-surface-1 rounded-lg transition-colors duration-200"},[e("div",Ce,[e("span",ze,p(((w=(M=(k=(x=c(u).props.auth)==null?void 0:x.user)==null?void 0:k.name)==null?void 0:M.charAt(0))==null?void 0:w.toUpperCase())||"U"),1)]),e("div",Se,[e("p",$e,p(((s=(y=c(u).props.auth)==null?void 0:y.user)==null?void 0:s.name)||"User"),1),e("p",je,p(((r=(o=c(u).props.auth)==null?void 0:o.user)==null?void 0:r.email)||"user@example.com"),1)]),a[3]||(a[3]=e("svg",{class:"w-4 h-4 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),i.value?(l(),d("div",Ae,[_(c(z),{href:"/profile",class:"flex items-center px-4 py-3 text-sm text-text-2 hover:bg-surface-1 transition-colors duration-200"},{default:C(()=>[...a[4]||(a[4]=[e("svg",{class:"w-5 h-5 mr-3 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),j(" Profile ",-1)])]),_:1}),_(c(z),{href:"/settings",class:"flex items-center px-4 py-3 text-sm text-text-2 hover:bg-surface-1 transition-colors duration-200"},{default:C(()=>[...a[5]||(a[5]=[e("svg",{class:"w-5 h-5 mr-3 text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),j(" Settings ",-1)])]),_:1}),a[7]||(a[7]=e("hr",{class:"border-border"},null,-1)),e("button",{onClick:v,class:"flex items-center w-full px-4 py-3 text-sm text-error hover:bg-surface-1 transition-colors duration-200"},[...a[6]||(a[6]=[e("svg",{class:"w-5 h-5 mr-3 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),j(" Logout ",-1)])])])):A("",!0)])])])])}}},Te={class:"flex h-screen bg-canvas text-text transition-colors duration-200"},Le={class:"flex-1 overflow-y-auto p-4 lg:p-6 bg-canvas transition-colors duration-200 relative"},De={class:"mb-4"},Ve={class:"relative z-20"},He={__name:"AuthenticatedLayout",setup(m){B().initTheme();const i=b(!1),t=b(!1),f=()=>{i.value=window.innerWidth<1024,i.value||(t.value=!1)},v=()=>{t.value=!t.value},h=()=>{t.value=!1};return R(()=>{f(),window.addEventListener("resize",f)}),W(()=>{window.removeEventListener("resize",f)}),(a,x)=>(l(),d("div",Te,[i.value&&t.value?(l(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:h})):A("",!0),_(he,{class:g(["fixed left-0 top-0 h-full z-30 transition-transform duration-300 ease-in-out lg:translate-x-0",i.value&&t.value?"translate-x-0":"-translate-x-full lg:translate-x-0"])},null,8,["class"]),e("div",{class:g(["flex-1 flex flex-col overflow-hidden relative z-10 transition-all duration-300",i.value?"ml-0":"ml-64"])},[_(Be,{onToggleSidebar:v}),e("main",Le,[e("div",De,[V(a.$slots,"breadcrumb",{},void 0,!0)]),e("div",Ve,[V(a.$slots,"default",{},void 0,!0)])])],2)]))}},Ue=I(He,[["__scopeId","data-v-f10cb9fa"]]);export{Ue as A};
